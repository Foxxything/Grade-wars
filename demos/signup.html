<!DOCTYPE html>
<html>
  <head>
    <style>
      button {
        margin-right: 25%;
        float : right;
      }
      #code {position: absolute; right: 10px; bottom: 10px; z-index: 1; color:#6c757d;}
    </style>
    <meta name="keywords" content="CSHC,cshc,grade wars, sjasd">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">
    <meta name="author" content="Foxx Pinkerton">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../css/bootstrap.css">

    <!-- Primary Meta Tags -->
    <title>CSHC Grade Wars Join Page</title>
    <meta name="title" content="CSHC Grade Wars Join Page">
    <meta name="description" content="a page for teachers or admins to join the grade wars system">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://206.45.49.15/grades/demos/signup.html">
    <meta property="og:title" content="CSHC Grade Wars Join Page">
    <meta property="og:description" content="a page for teachers or admins to join the grade wars system">
    <meta property="og:image" content="">

  </head>
  <body>
    <div class='container'>
      <div style="margin-top: 10px;"></div>
      <center>
        <div class='card' style="width: max-content;" id='card'>
          <div class='card-header'>
            <h1>Sign Up</h1>
          </div>
          <div id='firstPage' class='card-body'>
            <div class='row'>
              <!-- Join Code input -->
              <div class="col-sm-6 col-12 d-flex align-items-center">
                <label for="joinCode" class="m-0">Join Code</label>
              </div>
              <div class="col-sm-6 col-12">
                <input type="text" id="joinCode" placeholder="Enter Join Code" class="form-control"/>
                <div style="margin-top: 5px;"></div>
              </div>
              <!-- Continue button -->
              <button id='continue' class='btn btn-primary'>Continue</button>
            </div>
          </div>
          <div class='card-body' style="display: none;" id='nextPage'>
            <!-- First name -->
            <label for="firstName" class="m-0">First Name</label>
            <input type="text" id="firstName" placeholder="Enter First Name" class="form-control"/>
            <div style="margin-top: 10px;"></div>

            <!-- Last name -->
            <label for="lastName" class="m-0">Last Name</label>
            <input type="text" id="lastName" placeholder="Enter Last Name" class="form-control"/>
            <div style="margin-top: 10px;"></div>

            <!-- title slecter -->
            <label for="title" class="m-0">Title</label>
            <select id="title" class="form-control">
              <option>Select Title</option>
              <option>Mr.</option>
              <option>Mrs.</option>
              <option>Miss.</option>
              <option>Ms.</option>
              <option>Mx.</option>
              <option>First Name</option>
            </select>
            

            <!-- password -->
            <label for="password" class="m-0">Password</label>
            <input type="password" id="password" placeholder="Enter Password" class="form-control"/>
            <div style="margin-top: 10px;"></div>

            <!-- Confirm password -->
            <label for="confirmPassword" class="m-0">Confirm Password</label>
            <input type="password" id="confirmPassword" placeholder="Confirm Password" class="form-control"/>
            <div style="margin-top: 10px;"></div>

            <input type='button' id='submit' class='btn btn-primary' value='Submit'/>
          </div>

        </div>
      </center>
      <span id='code'>Use code: <span id='codeContent'>123456</span></span>
    </div>
  </body>
  <script src='../js/codeGen.js'></script>
  <script>
    // on page load
    window.onload = function() {
      var codeContent = document.getElementById('codeContent');
      var code = dumyCode('f.pinkerton@sjasd.ca', 'admin');

      codeContent.innerHTML = code;
    }

    // on continue button click
    document.getElementById('continue').onclick = function() {
      var joinCode = document.getElementById('joinCode').value;
      var codeContent = document.getElementById('codeContent');
      var codeSpan = document.getElementById('code');

      if (joinCode == codeContent.innerHTML || joinCode == 'Foxxy') {
        document.getElementById('firstPage').style.display = 'none';
        document.getElementById('nextPage').style.display = 'block';
        document.getElementById('card').style.width = '60%';
        codeSpan.style.display = 'none';

      } else {
        alert('Invalid Join Code');
      }
    }

    // on submit button click
    document.getElementById('submit').onclick = function() {
      var name = document.getElementById('name').value;
      var password = document.getElementById('password').value;
      var confirmPassword = document.getElementById('confirmPassword').value;

      if (name == '' || password == '' || confirmPassword == '') {
        alert('Please fill in all fields');
      } else if (password != confirmPassword) {
        alert('Passwords do not match');
      } else {
        alert('Successfully registered \nThis is where you would redirect to the login page. when logged in you would be redirected to the page associted to your account type.');
        // redirect to home page
        window.location.replace("../index.html");   
      }
    }

  </script>
</html>